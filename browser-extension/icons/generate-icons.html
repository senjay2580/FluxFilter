<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>ç”Ÿæˆæ‰©å±•å›¾æ ‡</title>
  <style>
    body { font-family: system-ui; padding: 40px; background: #1a1a2e; color: white; }
    h1 { color: #baff29; }
    .preview { display: flex; gap: 20px; margin: 20px 0; flex-wrap: wrap; }
    .icon-box { text-align: center; background: #0f0f1a; padding: 20px; border-radius: 12px; }
    .icon-box img { display: block; margin: 0 auto 10px; }
    .icon-box span { color: #888; font-size: 12px; }
    button { background: #baff29; color: black; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: bold; margin: 5px; }
    button:hover { background: #a8e824; }
    .instructions { background: #0f0f1a; padding: 20px; border-radius: 12px; margin-top: 20px; }
    .instructions ol { padding-left: 20px; }
    .instructions li { margin: 10px 0; color: #ccc; }
    a { color: #baff29; }
  </style>
</head>
<body>
  <h1>ğŸ¨ ç”Ÿæˆæ‰©å±•å›¾æ ‡</h1>
  <p>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ä¸‹è½½å„å°ºå¯¸çš„ PNG å›¾æ ‡</p>
  
  <div class="preview" id="preview"></div>
  
  <div>
    <button onclick="downloadAll()">ğŸ“¥ ä¸‹è½½å…¨éƒ¨å›¾æ ‡</button>
  </div>
  
  <div class="instructions">
    <h3>ğŸ“‹ ä½¿ç”¨è¯´æ˜</h3>
    <ol>
      <li>ç‚¹å‡»ã€Œä¸‹è½½å…¨éƒ¨å›¾æ ‡ã€æŒ‰é’®</li>
      <li>å°†ä¸‹è½½çš„ PNG æ–‡ä»¶æ”¾å…¥ <code>browser-extension/icons/</code> æ–‡ä»¶å¤¹</li>
      <li>é‡æ–°åŠ è½½æ‰©å±•å³å¯</li>
    </ol>
  </div>

  <script>
    const sizes = [16, 32, 48, 128];
    const svgContent = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128">
      <defs>
        <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#1a1a2e"/>
          <stop offset="100%" style="stop-color:#0f0f1a"/>
        </linearGradient>
        <linearGradient id="accent" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#baff29"/>
          <stop offset="100%" style="stop-color:#7dd31a"/>
        </linearGradient>
      </defs>
      <rect width="128" height="128" rx="24" fill="url(#bg)"/>
      <circle cx="52" cy="52" r="24" fill="none" stroke="url(#accent)" stroke-width="6"/>
      <line x1="70" y1="70" x2="92" y2="92" stroke="url(#accent)" stroke-width="6" stroke-linecap="round"/>
      <path d="M88 28 L92 38 L102 42 L92 46 L88 56 L84 46 L74 42 L84 38 Z" fill="#baff29"/>
      <line x1="52" y1="42" x2="52" y2="62" stroke="#baff29" stroke-width="4" stroke-linecap="round"/>
      <line x1="42" y1="52" x2="62" y2="52" stroke="#baff29" stroke-width="4" stroke-linecap="round"/>
    </svg>`;

    function createIcon(size) {
      return new Promise((resolve) => {
        const canvas = document.createElement('canvas');
        canvas.width = size;
        canvas.height = size;
        const ctx = canvas.getContext('2d');
        
        const img = new Image();
        const blob = new Blob([svgContent], { type: 'image/svg+xml' });
        const url = URL.createObjectURL(blob);
        
        img.onload = () => {
          ctx.drawImage(img, 0, 0, size, size);
          URL.revokeObjectURL(url);
          resolve(canvas.toDataURL('image/png'));
        };
        img.src = url;
      });
    }

    async function init() {
      const preview = document.getElementById('preview');
      for (const size of sizes) {
        const dataUrl = await createIcon(size);
        const box = document.createElement('div');
        box.className = 'icon-box';
        box.innerHTML = `
          <img src="${dataUrl}" width="${size}" height="${size}" style="image-rendering: pixelated;">
          <span>icon${size}.png</span>
          <button onclick="download(${size})">ä¸‹è½½</button>
        `;
        preview.appendChild(box);
      }
    }

    async function download(size) {
      const dataUrl = await createIcon(size);
      const a = document.createElement('a');
      a.href = dataUrl;
      a.download = `icon${size}.png`;
      a.click();
    }

    async function downloadAll() {
      for (const size of sizes) {
        await download(size);
        await new Promise(r => setTimeout(r, 300));
      }
    }

    init();
  </script>
</body>
</html>